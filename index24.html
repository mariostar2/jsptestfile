<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button onclick ="runOrderCoffe2('녹차')">Promise Callback Test</button>
    <script>
        //커피를 주문하고 만드는 비동기 함수 만들어 보기
        //promise 타입을 반환한다. 
        //async <-- 비동기 함수라고 알려준다
        function orderCoffee(order) {
        return new Promise(function (resolve, reject) {
            setTimeout(function () {
                if (order === "아메리카노") {
                    resolve("아메리카노가 나왔습니다");
                } else if (order === "라떼") {
                    resolve("라떼가 나왔습니다");
                } else {
                    reject("죄송합니다 오늘 재료가 모두 소진 되었습니다");
                }
            }, 1000);
        });
    }
        // 소화 방법 1. -> 'async'와 'await'를 사용하여 비동기 코드를 동기식 방법으로 간결하게 작성할 수 있다.
        // 'async'와 'await'를 사용하지 않고 호출 해보기 
        async function runOrderCoffe1(order){
            console.log("start...");
            try{
                const result = await orderCoffee(order);
            }catch(error){
                console.error(error);
            }
            console.log("end....");
        }

        //2. 콜백 매서드를 활용할 수 있다.
        // 소화 방법 2. -> then()과 catch() 메서드 활용
        function runOrderCoffee2(order) {
            console.log("start ....");
            orderCoffee(order)
                .catch((message) => {
                    console.log(message);
                });
              
            console.log("end ....");
        }
    </script>
</body>
</html>